# cosmetics.info Project Base Prompt

## Project Overview
This is a professional single-page website for **ООО "Демидов Люкс СПА"**, a Russian cosmetics manufacturing company established in 2009. The website showcases the company's capabilities in custom cosmetics manufacturing, private labeling, and full-cycle production services, targeting businesses looking to create their own cosmetics brands.

**Key Business Focus:**
- Custom formulation and manufacturing (7-day production timeline)
- Private label cosmetics production
- Full-cycle service from concept to finished product
- Target audience: Businesses and entrepreneurs wanting custom cosmetics brands
- Industry: Professional cosmetics manufacturing in Moscow, Russia

## Tech Stack & Architecture

**Framework & Core:**
- **Next.js 15.3.4** with App Router structure
- **React 19.0.0** (latest version with new features)
- **TypeScript 5** for type safety
- **Turbopack** for fast development builds

**Styling & UI:**
- **Tailwind CSS 4.0** (beta version) - utility-first CSS framework
- **DaisyUI 5.0.43** - component library with custom cosmetics-themed colors
- **Clampwind 0.0.9** - fluid typography and spacing utilities using clamp()
- **Custom design system** with professional cosmetics brand colors

**Forms & Validation:**
- **React Hook Form 7.62.0** for performant form handling
- **Zod 4.0.14** for TypeScript-first schema validation
- **@hookform/resolvers 5.2.1** for validation integration

**Email & Communication:**
- **Nodemailer** - Email sending functionality for form notifications
- **Yandex SMTP** - Email service integration for reliable delivery

**Media & Components:**
- **Next-video 2.2.1** for optimized video components
- **Player.style 0.1.9** with Demuxed 2022 theme for video player styling
- **Heroicons React 2.2.0** for SVG icons

## Project Structure

```
cosmetics.info/
├── app/                    # Next.js App Router
│   ├── api/               # API routes
│   │   ├── csrf/          # CSRF token generation endpoint
│   │   │   └── route.ts   # GET /api/csrf for token generation
│   │   └── submit-brief/  # Form submission endpoint
│   │       └── route.ts   # POST /api/submit-brief with security
│   ├── components/         # React components
│   │   ├── form.tsx       # Secure multi-step product brief form
│   │   └── header.tsx     # Site navigation header
│   ├── hooks/             # Custom React hooks
│   │   └── useCsrf.ts     # CSRF token management hook
│   ├── globals.css        # Global styles and design tokens
│   ├── layout.tsx         # Root layout with font configuration
│   ├── page.tsx           # Main landing page (single-page app)
│   └── favicon.ico        # Site favicon
├── public/                # Static assets
│   ├── images/           # Process images (consult.jpeg, contract.jpeg, etc.)
│   └── video/            # Hero section promotional video
├── middleware.ts          # Next.js middleware with security headers
├── next.config.ts        # Next.js configuration
├── package.json          # Dependencies and scripts
├── postcss.config.mjs    # PostCSS configuration
├── tsconfig.json         # TypeScript configuration
└── video.d.ts           # Video file type declarations
```

## Design System & Styling

**Typography:**
- **Font**: Roboto Flex with Cyrillic support (Russian content)
- **Fluid Scale**: Uses `clamp()` functions for responsive typography
  - Headers: `clamp(var(--text-2xl), var(--text-6xl))`
  - Body: `clamp(var(--text-lg), var(--text-xl))`

**Color Palette:**
- **Primary**: `oklch(50% 0.134 242.749)` - Deep blue for CTAs
- **Base**: Light grays for backgrounds
- **Contextual Colors**: Section-specific colors for workflow steps
  - Consultation: Green tones
  - Contract: Purple tones
  - Testing: Sky blue tones
  - Production: Pink tones

**Layout & Spacing:**
- **Container**: `max-w-7xl` with responsive padding using `clamp(2rem, 3rem)`
- **Sections**: Large vertical spacing `clamp(5rem, 9rem)`
- **Borders**: `rounded-4xl` for modern, soft appearance

## Key Features & Components

### 1. Landing Page Sections (app/page.tsx)
- **Hero Section**: Video player with promotional content
- **Capabilities**: Company overview and services
- **Workflow**: 4-step production process (consultation → contract → testing → production)
- **Advantages**: Quality control, full-cycle service, uniqueness, fast delivery
- **About**: Company history and credentials since 2009
- **FAQ**: Collapsible accordion with common questions
- **Contact Form**: Comprehensive product brief form
- **Footer**: Contact information and social links

### 2. Advanced Secure Form Component (app/components/form.tsx)
- **Multi-step product brief** with dynamic product addition/removal (max 10 products)
- **Collapsible sections** for better UX organization
- **Comprehensive security implementation:**
  - CSRF token protection with session-based validation
  - Honeypot fields for bot detection
  - Input sanitization and XSS protection
  - Rate limiting and origin validation
  - Client & server-side validation with length limits
- **Comprehensive product specifications:**
  - Brand and collection information
  - Marketing claims and properties
  - Packaging requirements and analogues
  - Design specifications
  - Texture descriptions and components
  - Production volumes and target costs
- **Client information capture**
- **Robust form validation** using Zod schemas (client & server)
- **Secure API integration** endpoint: `/api/submit-brief` (✅ implemented)
- **Email notifications** - Automated email delivery via Nodemailer and Yandex SMTP (✅ implemented)

### 3. Header Component (app/components/header.tsx)
- Navigation menu (assumes smooth scroll to sections)
- Company branding area

### 4. GDPR Cookie Consent System (app/components/cookie-consent.tsx)
- **Comprehensive cookie consent banner** with Russian language support
- **Granular cookie preferences** - Necessary, Analytics, Marketing, Functional categories
- **Persistent consent storage** - LocalStorage with expiration tracking (1 year)
- **User preference management** - Modal for detailed cookie settings
- **GDPR compliance features:**
  - Clear consent withdrawal mechanism
  - Detailed cookie category descriptions
  - Consent expiration and renewal prompts
  - Integration ready for analytics/marketing scripts
- **Custom hook integration** (useCookieConsent.ts) for consent state management
- **Professional UI** - Modal design with toggle switches and clear descriptions

## Business Information

**Company Details:**
- **Name**: ООО "Демидов Люкс СПА"
- **Established**: 2009
- **Location**: Moscow, Russia (two production facilities)
- **Industry**: Custom cosmetics manufacturing and private labeling

**Services:**
- Custom formulation (7-day production timeline)
- Full-cycle production (concept to finished product)
- Private labeling and brand development
- Product types: Face/body creams, masks, serums, shampoos, SPA products
- Quality control with on-site laboratory
- Complete certification and documentation

**Contact Information:**
- **Phone**: +7 (495) 123-45-67
- **Email**: info@deluxspa.ru
- **Telegram**: @demidovlux
- **WhatsApp**: +7 (916) 123-45-67

## Development Guidelines

**Code Conventions:**
- **Components**: PascalCase (Header, Form)
- **Files**: kebab-case for assets, camelCase for configs
- **CSS Classes**: Tailwind utilities with BEM-style custom classes
- **Form Fields**: camelCase following React Hook Form conventions

**Performance:**
- Lazy loading for images
- Optimized video player with custom styling
- Fluid typography for responsive design
- Modern React 19 features

**Language:**
- **Primary**: Russian (site content and UI)
- **Code**: English (comments, variable names, technical documentation)

## Current Status & Priorities

### ✅ Completed Features
- ✅ Responsive landing page with all sections
- ✅ Advanced contact form with validation
- ✅ Professional UI/UX with custom theme
- ✅ Performance optimization and modern architecture

### ✅ Recently Completed Features
- ✅ **Form backend integration** - Complete secure `/api/submit-brief` endpoint
- ✅ **Comprehensive security implementation** - CSRF protection, CSP headers, input sanitization
- ✅ **Rate limiting** - IP-based request throttling (5 requests per 15 minutes)
- ✅ **Bot protection** - Honeypot fields and behavioral analysis
- ✅ **Security headers** - CSP, HSTS, X-Frame-Options, and other protective measures
- ✅ **Request validation** - Origin checks, payload limits, Content-Type validation
- ✅ **Email integration** - Automated email sending for form submissions via Nodemailer and Yandex SMTP
- ✅ **GDPR Cookie Consent** - Comprehensive cookie consent banner with granular preferences management

### 🚧 Current High Priority TODOs
- [ ] **Database integration** - Persistent storage for form submissions  
- [ ] **Privacy Policy page** - Detailed privacy policy and data processing information
- [ ] **Cookie preferences management** - Allow users to modify cookie settings after initial consent
- [ ] **Company logo** - Replace "ЛОГОТИП" placeholder with actual logo
- [ ] **Mobile optimization** - Enhanced mobile experience

### 🔮 Future Enhancements
- [ ] Multi-language support (English for international clients)
- [ ] Admin dashboard for form submissions management
- [ ] SEO optimization with meta tags and structured data
- [ ] Analytics integration and performance monitoring
- [ ] Content management system for dynamic updates
- [ ] Product gallery and client testimonials

## Development Commands
```bash
npm run dev      # Start development server with Turbopack
npm run build    # Build for production
npm run start    # Start production server  
npm run lint     # Run ESLint code analysis
```

## Security Architecture

**Multi-Layered Security Implementation:**
- **CSRF Protection**: Session-based tokens with 15-minute expiration
- **Rate Limiting**: IP-based throttling (5 requests per 15 minutes) 
- **Input Sanitization**: XSS protection with HTML/JS filtering
- **Bot Protection**: Honeypot fields and User-Agent validation
- **Security Headers**: CSP, HSTS, X-Frame-Options via middleware
- **Request Validation**: Origin checks, payload limits (50KB), Content-Type validation
- **Server-side Validation**: Duplicate Zod schemas with comprehensive length limits

**API Endpoints:**
- `GET /api/csrf` - CSRF token generation with session tracking
- `POST /api/submit-brief` - Secure form submission with full validation suite and email notifications

## Important Notes
- This is a **single-page application** - all content is in `app/page.tsx`
- The site is primarily in **Russian** targeting Russian businesses
- Form submission is **fully implemented** with comprehensive security measures and email notifications
- **Email setup required** - Configure `EMAIL_USER` and `EMAIL_PASS` environment variables for Yandex SMTP
- The project uses **bleeding-edge versions** (Tailwind 4 beta, React 19)
- All images are **placeholder content** that needs to be replaced with actual company assets
- The video player uses a **custom theme** for professional appearance
- **Production-ready security** - suitable for live deployment with proper environment configuration

This website represents a high-quality, secure, modern web presence for an established cosmetics manufacturer, designed to safely convert business clients looking for custom manufacturing services.
